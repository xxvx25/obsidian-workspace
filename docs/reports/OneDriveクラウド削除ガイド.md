# OneDriveクラウド側ファイル削除ガイド

## ⚠️ 重要な注意事項

**クラウド側のファイルを削除すると、他のデバイスからも削除されます！**

- 削除前に必ずバックアップを取ってください
- 削除したファイルは復元できる場合がありますが、確実ではありません
- ローカルに保持したいファイルは、削除前にOneDriveの同期を解除してください

## 削除方法

### 方法1: OneDrive Web版から削除（推奨）

1. https://onedrive.live.com にアクセス
2. ログイン
3. 削除したいファイル/フォルダを選択
4. 「削除」をクリック
5. 削除されたファイルは「ごみ箱」に移動します

**メリット**:
- クラウド側のみを削除できる
- ローカルファイルに影響しない（同期設定次第）
- ごみ箱から復元可能

### 方法2: Finderから削除

1. Finderで `~/Library/CloudStorage/OneDrive-個人用/` を開く
2. 削除したいファイル/フォルダを選択
3. 削除（⌘+Delete または右クリック → 削除）

**注意**:
- ローカルから削除すると、クラウド側も削除されます
- 他のデバイスからも削除されます

### 方法3: コマンドラインから削除

```bash
# ⚠️ 実行前に必ずバックアップを取ってください

# 特定のフォルダを削除する場合
rm -rf ~/Library/CloudStorage/OneDrive-個人用/削除したいフォルダ名

# 削除前に確認する場合
ls -la ~/Library/CloudStorage/OneDrive-個人用/
```

## 安全な削除手順

### ステップ1: バックアップを取る

```bash
# バックアップ先を指定
BACKUP_DIR="$HOME/Desktop/OneDrive_Backup_$(date +%Y%m%d_%H%M%S)"
mkdir -p "$BACKUP_DIR"

# 重要なフォルダをバックアップ
cp -R ~/Library/CloudStorage/OneDrive-個人用/obsidian "$BACKUP_DIR/" 2>/dev/null
```

### ステップ2: 削除するファイルを確認

```bash
# OneDrive内のフォルダ一覧を確認
cd ~/Library/CloudStorage/OneDrive-個人用
ls -la
```

### ステップ3: 削除を実行

- Web版から削除する場合: 上記の方法1を参照
- ローカルから削除する場合: 上記の方法2または方法3を参照

### ステップ4: 削除後の確認

1. OneDriveの同期状態を確認
2. 他のデバイスで削除が反映されているか確認
3. 必要に応じて、ごみ箱から復元

## 削除前に確認すべきこと

1. ✅ **バックアップは取ったか？**
2. ✅ **削除するファイルは本当に不要か？**
3. ✅ **他のデバイスで必要なファイルはないか？**
4. ✅ **ローカルに保持したいファイルは同期解除したか？**

## 復元方法

### OneDrive Web版から復元

1. https://onedrive.live.com にアクセス
2. 左側のメニューから「ごみ箱」を選択
3. 復元したいファイルを選択
4. 「復元」をクリック

### 復元期間

- 通常: 30日間
- ビジネスアカウント: 管理者の設定による

## トラブルシューティング

### 削除したファイルが復元できない場合

1. ごみ箱を確認
2. OneDriveのサポートに問い合わせ
3. バックアップから復元

### 削除後、ローカルファイルも消えてしまった場合

1. ごみ箱から復元を試す
2. バックアップから復元
3. データ復旧ソフトを使用（最終手段）

